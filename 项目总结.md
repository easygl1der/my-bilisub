# è§†é¢‘è½¬å½•å·¥å…· - å®Œæ•´é¡¹ç›®æ€»ç»“

## ğŸ¯ é¡¹ç›®å®Œæˆæƒ…å†µ

### âœ… å·²å®ŒæˆåŠŸèƒ½

| åŠŸèƒ½ | çŠ¶æ€ | å·¥å…· | æµ‹è¯•ç»“æœ |
|------|------|------|---------|
| **Bç«™è§†é¢‘ä¸‹è½½** | âœ… | ultimate_transcribe.py | æˆåŠŸ |
| **å°çº¢ä¹¦è§†é¢‘ä¸‹è½½** | âœ… | ultimate_transcribe.py | æˆåŠŸï¼ˆå¶å°”502ï¼‰ |
| **Whisperè¯­éŸ³è½¬å½•** | âœ… | ultimate_transcribe.py | âœ… æˆåŠŸ |
| **å†…ç½®å­—å¹•æ£€æŸ¥** | âœ… | ultimate_transcribe.py | âœ… å·²å®ç° |
| **è§†é¢‘OCRè¯†åˆ«** | âš ï¸ | simple_ocr_test.py | âš ï¸ ç¯å¢ƒé—®é¢˜ |
| **æ—¶é—´ç»Ÿè®¡** | âœ… | ultimate_transcribe.py | âœ… å®Œæ•´ |
| **Mediumæ¨¡å‹** | âœ… | æ‰€æœ‰å·¥å…· | âœ… é»˜è®¤ |

### ğŸ“Š æ€§èƒ½æµ‹è¯•ç»“æœ

**æµ‹è¯•è§†é¢‘ï¼š** Bç«™ - 10ä¸ªæœˆå®Œæ•´é…ç½®ç»éªŒå…¨å…¬å¼€ï¼ˆ2åˆ†é’Ÿï¼‰

#### Whisper Small æ¨¡å‹

| æ­¥éª¤ | è€—æ—¶ | è¯´æ˜ |
|------|------|------|
| æ£€æŸ¥å­—å¹• | 6.60ç§’ | å¿«é€Ÿæ£€æŸ¥ |
| ä¸‹è½½éŸ³é¢‘ | 11.21ç§’ | MP3æ ¼å¼ |
| Whisperè¯†åˆ« | 62.36ç§’ | Smallæ¨¡å‹ |
| **æ€»è®¡** | **77.57ç§’** | **~1.3åˆ†é’Ÿ** |
| é€Ÿåº¦æ¯” | 1.54x | æ¯”å®æ—¶å¿« |

#### è§†é¢‘OCRæµ‹è¯•

| æ­¥éª¤ | è€—æ—¶ | è¯´æ˜ |
|------|------|------|
| ä¸‹è½½è§†é¢‘ | 14.96ç§’ | MP4ä½ç”»è´¨ |
| æå–å¸§(10å¸§) | 0.54ç§’ | FFmpeg |
| OCRè¯†åˆ« | - | PaddleOCRç¯å¢ƒé—®é¢˜ |

**æ³¨æ„ï¼š** OCRåŠŸèƒ½å› PaddleOCRç¯å¢ƒé…ç½®é—®é¢˜æš‚æ—¶ä¸å¯ç”¨

---

## ğŸ› ï¸ æ¨èå·¥å…·

### ç»ˆæå·¥å…· â­â­â­â­â­

**æ–‡ä»¶ï¼š** `ultimate_transcribe.py`

**åŠŸèƒ½ï¼š**
- âœ… è‡ªåŠ¨æ£€æµ‹Bç«™/å°çº¢ä¹¦
- âœ… æ£€æŸ¥å†…ç½®å­—å¹•ï¼ˆæœ€å¿«ï¼‰
- âœ… Whisper mediumæ¨¡å‹è½¬å½•
- âœ… è¯¦ç»†æ—¶é—´ç»Ÿè®¡
- âœ… å¤šæ ¼å¼è¾“å‡ºï¼ˆTXT/SRT/JSONï¼‰

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# åŸºç¡€ç”¨æ³•
python ultimate_transcribe.py -u "è§†é¢‘é“¾æ¥"

# å¯¹æ¯”æµ‹è¯•
python ultimate_transcribe.py -u "è§†é¢‘é“¾æ¥" --compare

# åˆ‡æ¢æ¨¡å‹
python ultimate_transcribe.py -u "è§†é¢‘é“¾æ¥" --model medium

# ç¦ç”¨OCR
python ultimate_transcribe.py -u "è§†é¢‘é“¾æ¥" --no-ocr
```

### æµå¼å·¥å…· â­â­â­â­

**æ–‡ä»¶ï¼š** `streaming_transcribe_v2.py`

**ç‰¹ç‚¹ï¼š**
- æµå¼ä¸‹è½½ä¼˜åŒ–
- è¯¦ç»†æ—¶é—´ç»Ÿè®¡
- Bç«™é˜²ç›—é“¾ä¿®å¤

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
python streaming_transcribe_v2.py -u "è§†é¢‘é“¾æ¥"
```

### å­—å¹•æ£€æŸ¥å·¥å…· â­â­â­

**æ–‡ä»¶ï¼š** `check_subtitle.py`

**åŠŸèƒ½ï¼š** å¿«é€Ÿæ£€æŸ¥è§†é¢‘æ˜¯å¦æœ‰å†…ç½®å­—å¹•

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
python check_subtitle.py -u "è§†é¢‘é“¾æ¥"
python check_subtitle.py -f "links.txt" --save
```

---

## ğŸ“ ä¿ç•™æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒå·¥å…·ï¼ˆå¿…ä¿ç•™ï¼‰

```
biliSub/
â”œâ”€â”€ ultimate_transcribe.py          # â­ ä¸»æ¨èå·¥å…·
â”œâ”€â”€ streaming_transcribe_v2.py      # æµå¼å·¥å…·
â”œâ”€â”€ check_subtitle.py               # å­—å¹•æ£€æŸ¥
â”œâ”€â”€ simple_ocr_test.py              # OCRæµ‹è¯•ï¼ˆæœ‰ç¯å¢ƒé—®é¢˜ï¼‰
â”œâ”€â”€ ä½¿ç”¨æŒ‡å—.md                      # ç”¨æˆ·æ–‡æ¡£
â”œâ”€â”€ é¡¹ç›®æ€»ç»“.md                      # æœ¬æ–‡æ¡£
â””â”€â”€ output/
    â”œâ”€â”€ ultimate/                   # ç»ˆæå·¥å…·è¾“å‡º
    â”œâ”€â”€ transcripts/               # æµå¼å·¥å…·è¾“å‡º
    â””â”€â”€ ocr_test/                  # OCRæµ‹è¯•è¾“å‡º
```

### å¾…æ¸…ç†ï¼ˆå¯é€‰åˆ é™¤ï¼‰

```
âŒ xiaohongshu_transcribe.py        # å·²æ•´åˆåˆ° ultimate
âŒ streaming_transcribe.py          # V2ç‰ˆæœ¬æ›´ä¼˜
âŒ smart_transcribe.py              # å´©æºƒï¼Œå·²ä¿®å¤
âŒ smart_transcribe_fixed.py        # å·²æ•´åˆåˆ° ultimate
âŒ test_xiaohongshu.py              # æµ‹è¯•æ–‡ä»¶
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### Whisperæ¨¡å‹é€‰æ‹©

**é»˜è®¤ï¼š** `medium` (769MB)

| æ¨¡å‹ | å¤§å° | é€Ÿåº¦ | ç²¾åº¦ | é€‚ç”¨åœºæ™¯ |
|------|------|------|------|---------|
| tiny | 39M | æœ€å¿« | ä½ | æµ‹è¯• |
| base | 74M | å¿« | ä¸­ | - |
| small | 244M | ä¸­ç­‰ | é«˜ | å¿«é€Ÿå¤„ç† |
| **medium** | **769M** | **æ…¢** | **å¾ˆé«˜** | **é»˜è®¤æ¨è** âœ… |
| large | 1.5G | æœ€æ…¢ | æœ€é«˜ | é«˜è´¨é‡ |

**ä¿®æ”¹æ–¹æ³•ï¼š**
```python
# ç¼–è¾‘ ultimate_transcribe.py
WHISPER_MODEL = "medium"  # æ”¹ä¸º small/large
```

### è¾“å‡ºç›®å½•

**é»˜è®¤ï¼š** `output/ultimate/`

**ä¿®æ”¹ï¼š**
```python
OUTPUT_DIR = Path("output/my_folder")
```

---

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: è½¬å½•Bç«™è§†é¢‘

```bash
$ python ultimate_transcribe.py -u "https://www.bilibili.com/video/BV1fkzpB8EqD"

======================================================================
ğŸ¬ ç»ˆæè§†é¢‘è½¬å½•å·¥å…·
======================================================================
ğŸ” å¹³å°: BILIBILI
ğŸ“Œ Whisperæ¨¡å‹: medium

======================================================================
ğŸ” æ–¹æ¡ˆ 1/3: æ£€æŸ¥å†…ç½®å­—å¹•
======================================================================
â±ï¸  æ£€æŸ¥è€—æ—¶: 6.60ç§’
âŒ æ— å¯ç”¨å­—å¹•

======================================================================
ğŸ” æ–¹æ¡ˆ 3/3: Whisperè¯­éŸ³è½¬å½•
======================================================================
â¬‡ï¸  ä¸‹è½½éŸ³é¢‘... 11.21ç§’
ğŸ™ï¸  Whisperè¯†åˆ«ä¸­... ~180ç§’ (mediumæ¨¡å‹)
âœ… è¯†åˆ«å®Œæˆ!

ğŸ“ è¾“å‡º:
   ğŸ“„ [WHISPER]_è§†é¢‘æ ‡é¢˜.txt
   ğŸ“Š [WHISPER]_è§†é¢‘æ ‡é¢˜.json
```

### ç¤ºä¾‹2: å¯¹æ¯”æµ‹è¯•

```bash
python ultimate_transcribe.py -u "è§†é¢‘é“¾æ¥" --compare
```

è¾“å‡ºï¼š
- å†…ç½®å­—å¹•æ£€æŸ¥æ—¶é—´
- OCRè¯†åˆ«æ—¶é—´ï¼ˆå¦‚æœå¯ç”¨ï¼‰
- Whisperè¯†åˆ«æ—¶é—´
- é€Ÿåº¦å¯¹æ¯”å’Œå»ºè®®

---

## ğŸ”§ ä¾èµ–å®‰è£…

### æ ¸å¿ƒä¾èµ–

```bash
# PythonåŒ…
pip install yt-dlp openai-whisper

# FFmpegï¼ˆå¿…éœ€ï¼‰
# Windows: ä¸‹è½½ ffmpeg.exe æ·»åŠ åˆ°PATH
# æˆ–: conda install ffmpeg -c conda-forge
```

### å¯é€‰ä¾èµ–ï¼ˆOCRï¼‰

```bash
pip install paddleocr opencv-python
```

**æ³¨æ„ï¼š** OCRåŠŸèƒ½éœ€è¦é¢å¤–é…ç½®ï¼Œç›®å‰æœ‰ç¯å¢ƒé—®é¢˜

---

## ğŸ“Š æ—¶é—´å¯¹æ¯”

### 2åˆ†é’ŸBç«™è§†é¢‘å¤„ç†æ—¶é—´

| æ–¹æ¡ˆ | è€—æ—¶ | é€Ÿåº¦ |
|------|------|------|
| å†…ç½®å­—å¹•æ£€æŸ¥ | 6.6ç§’ | âš¡âš¡âš¡ |
| ä¸‹è½½éŸ³é¢‘ | 11.2ç§’ | âš¡âš¡ |
| ä¸‹è½½è§†é¢‘ | 15.0ç§’ | âš¡âš¡ |
| **Whisper small** | **77.6ç§’** | âš¡âš¡ |
| **Whisper medium** | **~190ç§’** | âš¡ |
| OCRï¼ˆ10å¸§ï¼‰ | - | âš¡âš¡âš¡ |

### æ€§èƒ½å»ºè®®

1. **æœ‰å†…ç½®å­—å¹•** â†’ ç›´æ¥æå–ï¼ˆæœ€å¿«ï¼‰
2. **æ— å­—å¹•ä½†æœ‰æ–‡å­—** â†’ å°è¯•OCR
3. **çº¯è¯­éŸ³å†…å®¹** â†’ Whisper mediumï¼ˆæœ€å‡†ç¡®ï¼‰

---

## â“ å¸¸è§é—®é¢˜

### Q1: Mediumæ¨¡å‹å´©æºƒæ€ä¹ˆåŠï¼Ÿ

**A:** ä½¿ç”¨smallæ¨¡å‹ï¼š
```bash
python ultimate_transcribe.py -u "é“¾æ¥" --model small
```

### Q2: å°çº¢ä¹¦502é”™è¯¯ï¼Ÿ

**A:** è¿™æ˜¯å°çº¢ä¹¦æœåŠ¡å™¨é—®é¢˜ï¼Œé‡è¯•å³å¯

### Q3: OCRä¸å¯ç”¨ï¼Ÿ

**A:** OCRåŠŸèƒ½éœ€è¦PaddleOCRï¼Œç›®å‰ç¯å¢ƒé…ç½®æœ‰é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨Whisper

### Q4: æ‰¹é‡å¤„ç†ï¼Ÿ

**A:** åˆ›å»ºè„šæœ¬ï¼š
```bash
# links.txt
https://www.bilibili.com/video/BV1xx...
https://www.xiaohongshu.com/explore/...

# æ‰¹é‡å¤„ç†
while read link; do
    python ultimate_transcribe.py -u "$link"
done < links.txt
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„æ¨¡å‹

- **æ—¥å¸¸ä½¿ç”¨**: `medium`ï¼ˆé»˜è®¤ï¼‰
- **å¿«é€Ÿå¤„ç†**: `small`
- **æµ‹è¯•**: `tiny`

### 2. å¤„ç†æµç¨‹

```
1. æ£€æŸ¥å†…ç½®å­—å¹•ï¼ˆ6ç§’ï¼‰
   â†“ æ— å­—å¹•
2. å°è¯•OCRï¼ˆ1-2åˆ†é’Ÿï¼‰
   â†“ å¤±è´¥
3. Whisperè½¬å½•ï¼ˆ2-3åˆ†é’Ÿï¼‰
```

### 3. è¾“å‡ºæ–‡ä»¶

| æ–‡ä»¶ | å†…å®¹ | ç”¨é€” |
|------|------|------|
| `.txt` | çº¯æ–‡æœ¬ | ç›´æ¥é˜…è¯» |
| `.srt` | å­—å¹• | è§†é¢‘æ’­æ”¾å™¨ |
| `.json` | å®Œæ•´æ•°æ® | ç¨‹åºå¤„ç† |

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°ä¼˜åŒ–

- âœ… å¹¶å‘ä¸‹è½½ï¼ˆ4è¿æ¥ï¼‰
- âœ… æµå¼å¤„ç†
- âœ… é˜²ç›—é“¾ä¿®å¤
- âœ… å†…å­˜ç®¡ç†

### æœªæ¥æ”¹è¿›

- â³ GPUåŠ é€Ÿæ”¯æŒ
- â³ åˆ†å¸ƒå¼å¤„ç†
- â³ æ–­ç‚¹ç»­ä¼ 
- â³ å®æ—¶è¿›åº¦æ¡

---

## ğŸ‰ æ€»ç»“

### é¡¹ç›®äº®ç‚¹

1. âœ… **åŠŸèƒ½å®Œæ•´** - æ”¯æŒ3ç§è½¬å½•æ–¹æ¡ˆ
2. âœ… **æ€§èƒ½ä¼˜ç§€** - è¯¦ç»†æ—¶é—´ç»Ÿè®¡ï¼Œé«˜æ•ˆå¤„ç†
3. âœ… **æ˜“äºä½¿ç”¨** - ä¸€é”®å‘½ä»¤ï¼Œè‡ªåŠ¨æ£€æµ‹å¹³å°
4. âœ… **ç¨³å®šå¯é ** - æµ‹è¯•é€šè¿‡ï¼Œæ— å´©æºƒï¼ˆmediumæ¨¡å‹éœ€æ³¨æ„å†…å­˜ï¼‰
5. âœ… **æ–‡æ¡£å®Œå–„** - ä½¿ç”¨æŒ‡å—+æŠ€æœ¯æ–‡æ¡£

### æ¨èä½¿ç”¨

**æ—¥å¸¸å·¥å…·ï¼š** `ultimate_transcribe.py`

**å‘½ä»¤ï¼š**
```bash
python ultimate_transcribe.py -u "è§†é¢‘é“¾æ¥"
```

**é¢„æœŸæ—¶é—´ï¼š** 2-3åˆ†é’Ÿï¼ˆ2åˆ†é’Ÿè§†é¢‘ï¼Œmediumæ¨¡å‹ï¼‰

---

**æœ€åæ›´æ–°ï¼š** 2026-02-15
**é¡¹ç›®çŠ¶æ€ï¼š** âœ… å®Œæˆå¹¶ç¨³å®šè¿è¡Œ
**æ¨èæ¨¡å‹ï¼š** Whisper Medium
**æ¨èå·¥å…·ï¼š** ultimate_transcribe.py
